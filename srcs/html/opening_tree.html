<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Tree Example</title>

    <style>
	
	.node {
		cursor: pointer;
	}

	.node circle {
	  fill: #fff;
	  stroke: steelblue;
	  stroke-width: 3px;
	}

	.node text {
	  font: 12px sans-serif;
	}

	.link {
	  fill: none;
	  stroke: #ccc;
	  stroke-width: 2px;
	}
	
    </style>

  </head>

  <body>

<!-- load the d3.js library -->	
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
	
<script>

var treeData = [
  {
    "name": "0. start 32.5/52",
    "parent": null,
    "ngames": 52,
    "ratio": 0.625,
    "nbtotal": 52,
    "moves": "",
    "moves_limit": 6,
    "children": [
        {
            "name": "e4 32.5/52",
            "parent": "0. start 32.5/52",
            "ngames": 52,
            "ratio": 0.625,
            "nbtotal": 52,
            "moves": "1. e4",
            "children": [
                {
                    "name": "1. e6 8/10",
                    "parent": "e4 32.5/52",
                    "ngames": 10,
                    "ratio": 0.8,
                    "nbtotal": 52,
                    "moves": "1. e4 e6",
                    "children": [
                        {
                            "name": "d4 8/10",
                            "parent": "1. e6 8/10",
                            "ngames": 10,
                            "ratio": 0.8,
                            "nbtotal": 52,
                            "moves": "1. e4 e6 2. d4",
                            "children": [
                                {
                                    "name": "2. d5 8/10",
                                    "parent": "d4 8/10",
                                    "ngames": 10,
                                    "ratio": 0.8,
                                    "nbtotal": 52,
                                    "moves": "1. e4 e6 2. d4 d5",
                                    "children": [
                                        {
                                            "name": "Nc3 8/10",
                                            "parent": "2. d5 8/10",
                                            "ngames": 10,
                                            "ratio": 0.8,
                                            "nbtotal": 52,
                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3",
                                            "children": [
                                                {
                                                    "name": "3. c6 1/1",
                                                    "parent": "Nc3 8/10",
                                                    "ngames": 1,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 c6",
                                                    "url": "https://lichess.org/w5CcAYr6"
                                                },
                                                {
                                                    "name": "3. Nf6 2/3",
                                                    "parent": "Nc3 8/10",
                                                    "ngames": 3,
                                                    "ratio": 0.6666666666666666,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6",
                                                    "children": [
                                                        {
                                                            "name": "e5 2/3",
                                                            "parent": "3. Nf6 2/3",
                                                            "ngames": 3,
                                                            "ratio": 0.6666666666666666,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6 4. e5",
                                                            "children": [
                                                                {
                                                                    "name": "4. Ne4 1/1",
                                                                    "parent": "e5 2/3",
                                                                    "ngames": 1,
                                                                    "ratio": 1.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6 4. e5 Ce4",
                                                                    "url": "https://lichess.org/gkPlysJD"
                                                                },
                                                                {
                                                                    "name": "4. Nfd7 1/2",
                                                                    "parent": "e5 2/3",
                                                                    "ngames": 2,
                                                                    "ratio": 0.5,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6 4. e5 Cfd7",
                                                                    "children": [
                                                                        {
                                                                            "name": "Nce2 1/2",
                                                                            "parent": "4. Nfd7 1/2",
                                                                            "ngames": 2,
                                                                            "ratio": 0.5,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6 4. e5 Cfd7 5. Cce2",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. c5 1/2",
                                                                                    "parent": "Nce2 1/2",
                                                                                    "ngames": 2,
                                                                                    "ratio": 0.5,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6 4. e5 Cfd7 5. Cce2 c5",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "c3 1/2",
                                                                                            "parent": "5. c5 1/2",
                                                                                            "ngames": 2,
                                                                                            "ratio": 0.5,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3 Cf6 4. e5 Cfd7 5. Cce2 c5 6. c3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "name": "3. f5 1/1",
                                                    "parent": "Nc3 8/10",
                                                    "ngames": 1,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 f5",
                                                    "url": "https://lichess.org/GswYnwHV"
                                                },
                                                {
                                                    "name": "3. Bb4 4/5",
                                                    "parent": "Nc3 8/10",
                                                    "ngames": 5,
                                                    "ratio": 0.8,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4",
                                                    "children": [
                                                        {
                                                            "name": "e5 4/5",
                                                            "parent": "3. Bb4 4/5",
                                                            "ngames": 5,
                                                            "ratio": 0.8,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4 4. e5",
                                                            "children": [
                                                                {
                                                                    "name": "4. c5 4/4",
                                                                    "parent": "e5 4/5",
                                                                    "ngames": 4,
                                                                    "ratio": 1.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4 4. e5 c5",
                                                                    "children": [
                                                                        {
                                                                            "name": "a3 4/4",
                                                                            "parent": "4. c5 4/4",
                                                                            "ngames": 4,
                                                                            "ratio": 1.0,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4 4. e5 c5 5. a3",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. Bxc3+ 4/4",
                                                                                    "parent": "a3 4/4",
                                                                                    "ngames": 4,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4 4. e5 c5 5. a3 Fxc3+",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "bxc3 4/4",
                                                                                            "parent": "5. Bxc3+ 4/4",
                                                                                            "ngames": 4,
                                                                                            "ratio": 1.0,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4 4. e5 c5 5. a3 Fxc3+ 6. bxc3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "name": "4. Ne7 0/1",
                                                                    "parent": "e5 4/5",
                                                                    "ngames": 1,
                                                                    "ratio": 0.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e6 2. d4 d5 3. Cc3 Fb4 4. e5 Ce7",
                                                                    "url": "https://lichess.org/Yq6Tljbs"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "1. d6 0/1",
                    "parent": "e4 32.5/52",
                    "ngames": 1,
                    "ratio": 0.0,
                    "nbtotal": 52,
                    "moves": "1. e4 d6",
                    "url": "https://lichess.org/MGDmF8d6"
                },
                {
                    "name": "1. d5 1/3",
                    "parent": "e4 32.5/52",
                    "ngames": 3,
                    "ratio": 0.3333333333333333,
                    "nbtotal": 52,
                    "moves": "1. e4 d5",
                    "children": [
                        {
                            "name": "exd5 1/3",
                            "parent": "1. d5 1/3",
                            "ngames": 3,
                            "ratio": 0.3333333333333333,
                            "nbtotal": 52,
                            "moves": "1. e4 d5 2. exd5",
                            "children": [
                                {
                                    "name": "2. Qxd5 0/1",
                                    "parent": "exd5 1/3",
                                    "ngames": 1,
                                    "ratio": 0.0,
                                    "nbtotal": 52,
                                    "moves": "1. e4 d5 2. exd5 Dxd5",
                                    "url": "https://lichess.org/ADvBQWIx"
                                },
                                {
                                    "name": "2. Nf6 1/2",
                                    "parent": "exd5 1/3",
                                    "ngames": 2,
                                    "ratio": 0.5,
                                    "nbtotal": 52,
                                    "moves": "1. e4 d5 2. exd5 Cf6",
                                    "children": [
                                        {
                                            "name": "c4 1/2",
                                            "parent": "2. Nf6 1/2",
                                            "ngames": 2,
                                            "ratio": 0.5,
                                            "nbtotal": 52,
                                            "moves": "1. e4 d5 2. exd5 Cf6 3. c4",
                                            "children": [
                                                {
                                                    "name": "3. c6 0/1",
                                                    "parent": "c4 1/2",
                                                    "ngames": 1,
                                                    "ratio": 0.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 d5 2. exd5 Cf6 3. c4 c6",
                                                    "url": "https://lichess.org/uJrzCCKr"
                                                },
                                                {
                                                    "name": "3. e6 1/1",
                                                    "parent": "c4 1/2",
                                                    "ngames": 1,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 d5 2. exd5 Cf6 3. c4 e6",
                                                    "url": "https://lichess.org/JBwwiXBC"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "1. Nc6 0/1",
                    "parent": "e4 32.5/52",
                    "ngames": 1,
                    "ratio": 0.0,
                    "nbtotal": 52,
                    "moves": "1. e4 Cc6",
                    "url": "https://lichess.org/Ft5kjHWW"
                },
                {
                    "name": "1. Nf6 1/1",
                    "parent": "e4 32.5/52",
                    "ngames": 1,
                    "ratio": 1.0,
                    "nbtotal": 52,
                    "moves": "1. e4 Cf6",
                    "url": "https://lichess.org/mk49xBYU"
                },
                {
                    "name": "1. c5 8.5/18",
                    "parent": "e4 32.5/52",
                    "ngames": 18,
                    "ratio": 0.4722222222222222,
                    "nbtotal": 52,
                    "moves": "1. e4 c5",
                    "children": [
                        {
                            "name": "Nf3 8.5/18",
                            "parent": "1. c5 8.5/18",
                            "ngames": 18,
                            "ratio": 0.4722222222222222,
                            "nbtotal": 52,
                            "moves": "1. e4 c5 2. Cf3",
                            "children": [
                                {
                                    "name": "2. g6 3.5/6",
                                    "parent": "Nf3 8.5/18",
                                    "ngames": 6,
                                    "ratio": 0.5833333333333334,
                                    "nbtotal": 52,
                                    "moves": "1. e4 c5 2. Cf3 g6",
                                    "children": [
                                        {
                                            "name": "d4 3.5/6",
                                            "parent": "2. g6 3.5/6",
                                            "ngames": 6,
                                            "ratio": 0.5833333333333334,
                                            "nbtotal": 52,
                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4",
                                            "children": [
                                                {
                                                    "name": "3. cxd4 3.5/6",
                                                    "parent": "d4 3.5/6",
                                                    "ngames": 6,
                                                    "ratio": 0.5833333333333334,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4",
                                                    "children": [
                                                        {
                                                            "name": "Nxd4 3.5/6",
                                                            "parent": "3. cxd4 3.5/6",
                                                            "ngames": 6,
                                                            "ratio": 0.5833333333333334,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4",
                                                            "children": [
                                                                {
                                                                    "name": "4. Bg7 3/4",
                                                                    "parent": "Nxd4 3.5/6",
                                                                    "ngames": 4,
                                                                    "ratio": 0.75,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Fg7",
                                                                    "children": [
                                                                        {
                                                                            "name": "Be3 3/4",
                                                                            "parent": "4. Bg7 3/4",
                                                                            "ngames": 4,
                                                                            "ratio": 0.75,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Fg7 5. Fe3",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. Nc6 1/1",
                                                                                    "parent": "Be3 3/4",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Fg7 5. Fe3 Cc6",
                                                                                    "url": "https://lichess.org/K4I16Qjx"
                                                                                },
                                                                                {
                                                                                    "name": "5. Nf6 2/3",
                                                                                    "parent": "Be3 3/4",
                                                                                    "ngames": 3,
                                                                                    "ratio": 0.6666666666666666,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Fg7 5. Fe3 Cf6",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "e5 1/1",
                                                                                            "parent": "5. Nf6 2/3",
                                                                                            "ngames": 1,
                                                                                            "ratio": 1.0,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Fg7 5. Fe3 Cf6 6. e5",
                                                                                            "url": "https://lichess.org/c6MnmJp2"
                                                                                        },
                                                                                        {
                                                                                            "name": "Bd3 1/2",
                                                                                            "parent": "5. Nf6 2/3",
                                                                                            "ngames": 2,
                                                                                            "ratio": 0.5,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Fg7 5. Fe3 Cf6 6. Fd3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "name": "4. Nc6 0.5/2",
                                                                    "parent": "Nxd4 3.5/6",
                                                                    "ngames": 2,
                                                                    "ratio": 0.25,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Cc6",
                                                                    "children": [
                                                                        {
                                                                            "name": "Be3 0.5/1",
                                                                            "parent": "4. Nc6 0.5/2",
                                                                            "ngames": 1,
                                                                            "ratio": 0.5,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Cc6 5. Fe3",
                                                                            "url": "https://lichess.org/dRkuIiFR"
                                                                        },
                                                                        {
                                                                            "name": "c4 0/1",
                                                                            "parent": "4. Nc6 0.5/2",
                                                                            "ngames": 1,
                                                                            "ratio": 0.0,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 c5 2. Cf3 g6 3. d4 cxd4 4. Cxd4 Cc6 5. c4",
                                                                            "url": "https://lichess.org/bJb0OE3p"
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "name": "2. Nc6 2.0/7",
                                    "parent": "Nf3 8.5/18",
                                    "ngames": 7,
                                    "ratio": 0.2857142857142857,
                                    "nbtotal": 52,
                                    "moves": "1. e4 c5 2. Cf3 Cc6",
                                    "children": [
                                        {
                                            "name": "d4 2.0/7",
                                            "parent": "2. Nc6 2.0/7",
                                            "ngames": 7,
                                            "ratio": 0.2857142857142857,
                                            "nbtotal": 52,
                                            "moves": "1. e4 c5 2. Cf3 Cc6 3. d4",
                                            "children": [
                                                {
                                                    "name": "3. cxd4 2.0/7",
                                                    "parent": "d4 2.0/7",
                                                    "ngames": 7,
                                                    "ratio": 0.2857142857142857,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4",
                                                    "children": [
                                                        {
                                                            "name": "Nxd4 2.0/7",
                                                            "parent": "3. cxd4 2.0/7",
                                                            "ngames": 7,
                                                            "ratio": 0.2857142857142857,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4",
                                                            "children": [
                                                                {
                                                                    "name": "4. Nf6 0.5/1",
                                                                    "parent": "Nxd4 2.0/7",
                                                                    "ngames": 1,
                                                                    "ratio": 0.5,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 Cf6",
                                                                    "url": "https://lichess.org/xQvFsrcX"
                                                                },
                                                                {
                                                                    "name": "4. d6 0/1",
                                                                    "parent": "Nxd4 2.0/7",
                                                                    "ngames": 1,
                                                                    "ratio": 0.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 d6",
                                                                    "url": "https://lichess.org/hBrSSHAd"
                                                                },
                                                                {
                                                                    "name": "4. e5 1/4",
                                                                    "parent": "Nxd4 2.0/7",
                                                                    "ngames": 4,
                                                                    "ratio": 0.25,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 e5",
                                                                    "children": [
                                                                        {
                                                                            "name": "Nb5 1/4",
                                                                            "parent": "4. e5 1/4",
                                                                            "ngames": 4,
                                                                            "ratio": 0.25,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 e5 5. Cb5",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. d6 1/2",
                                                                                    "parent": "Nb5 1/4",
                                                                                    "ngames": 2,
                                                                                    "ratio": 0.5,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 e5 5. Cb5 d6",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "N1c3 1/2",
                                                                                            "parent": "5. d6 1/2",
                                                                                            "ngames": 2,
                                                                                            "ratio": 0.5,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 e5 5. Cb5 d6 6. C1c3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "name": "5. a6 0/2",
                                                                                    "parent": "Nb5 1/4",
                                                                                    "ngames": 2,
                                                                                    "ratio": 0.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 e5 5. Cb5 a6",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "Nd6+ 0/2",
                                                                                            "parent": "5. a6 0/2",
                                                                                            "ngames": 2,
                                                                                            "ratio": 0.0,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 e5 5. Cb5 a6 6. Cd6+",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "name": "4. g6 0.5/1",
                                                                    "parent": "Nxd4 2.0/7",
                                                                    "ngames": 1,
                                                                    "ratio": 0.5,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 Cc6 3. d4 cxd4 4. Cxd4 g6",
                                                                    "url": "https://lichess.org/WTeC7Ci5"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "name": "2. e6 1/2",
                                    "parent": "Nf3 8.5/18",
                                    "ngames": 2,
                                    "ratio": 0.5,
                                    "nbtotal": 52,
                                    "moves": "1. e4 c5 2. Cf3 e6",
                                    "children": [
                                        {
                                            "name": "d4 1/2",
                                            "parent": "2. e6 1/2",
                                            "ngames": 2,
                                            "ratio": 0.5,
                                            "nbtotal": 52,
                                            "moves": "1. e4 c5 2. Cf3 e6 3. d4",
                                            "children": [
                                                {
                                                    "name": "3. cxd4 1/2",
                                                    "parent": "d4 1/2",
                                                    "ngames": 2,
                                                    "ratio": 0.5,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 c5 2. Cf3 e6 3. d4 cxd4",
                                                    "children": [
                                                        {
                                                            "name": "Nxd4 1/2",
                                                            "parent": "3. cxd4 1/2",
                                                            "ngames": 2,
                                                            "ratio": 0.5,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 c5 2. Cf3 e6 3. d4 cxd4 4. Cxd4",
                                                            "children": [
                                                                {
                                                                    "name": "4. a6 0/1",
                                                                    "parent": "Nxd4 1/2",
                                                                    "ngames": 1,
                                                                    "ratio": 0.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 e6 3. d4 cxd4 4. Cxd4 a6",
                                                                    "url": "https://lichess.org/lQZCofaM"
                                                                },
                                                                {
                                                                    "name": "4. Nf6 1/1",
                                                                    "parent": "Nxd4 1/2",
                                                                    "ngames": 1,
                                                                    "ratio": 1.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 e6 3. d4 cxd4 4. Cxd4 Cf6",
                                                                    "url": "https://lichess.org/qqaNae6Z"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "name": "2. d6 2/3",
                                    "parent": "Nf3 8.5/18",
                                    "ngames": 3,
                                    "ratio": 0.6666666666666666,
                                    "nbtotal": 52,
                                    "moves": "1. e4 c5 2. Cf3 d6",
                                    "children": [
                                        {
                                            "name": "d4 2/3",
                                            "parent": "2. d6 2/3",
                                            "ngames": 3,
                                            "ratio": 0.6666666666666666,
                                            "nbtotal": 52,
                                            "moves": "1. e4 c5 2. Cf3 d6 3. d4",
                                            "children": [
                                                {
                                                    "name": "3. cxd4 2/3",
                                                    "parent": "d4 2/3",
                                                    "ngames": 3,
                                                    "ratio": 0.6666666666666666,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4",
                                                    "children": [
                                                        {
                                                            "name": "Nxd4 2/3",
                                                            "parent": "3. cxd4 2/3",
                                                            "ngames": 3,
                                                            "ratio": 0.6666666666666666,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4 4. Cxd4",
                                                            "children": [
                                                                {
                                                                    "name": "4. Nf6 2/3",
                                                                    "parent": "Nxd4 2/3",
                                                                    "ngames": 3,
                                                                    "ratio": 0.6666666666666666,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4 4. Cxd4 Cf6",
                                                                    "children": [
                                                                        {
                                                                            "name": "Nc3 2/3",
                                                                            "parent": "4. Nf6 2/3",
                                                                            "ngames": 3,
                                                                            "ratio": 0.6666666666666666,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4 4. Cxd4 Cf6 5. Cc3",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. a6 1/2",
                                                                                    "parent": "Nc3 2/3",
                                                                                    "ngames": 2,
                                                                                    "ratio": 0.5,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4 4. Cxd4 Cf6 5. Cc3 a6",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "Be3 1/2",
                                                                                            "parent": "5. a6 1/2",
                                                                                            "ngames": 2,
                                                                                            "ratio": 0.5,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4 4. Cxd4 Cf6 5. Cc3 a6 6. Fe3",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "name": "5. g6 1/1",
                                                                                    "parent": "Nc3 2/3",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c5 2. Cf3 d6 3. d4 cxd4 4. Cxd4 Cf6 5. Cc3 g6",
                                                                                    "url": "https://lichess.org/fDopmtk9"
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "1. c6 2/3",
                    "parent": "e4 32.5/52",
                    "ngames": 3,
                    "ratio": 0.6666666666666666,
                    "nbtotal": 52,
                    "moves": "1. e4 c6",
                    "children": [
                        {
                            "name": "d4 2/3",
                            "parent": "1. c6 2/3",
                            "ngames": 3,
                            "ratio": 0.6666666666666666,
                            "nbtotal": 52,
                            "moves": "1. e4 c6 2. d4",
                            "children": [
                                {
                                    "name": "2. d5 2/3",
                                    "parent": "d4 2/3",
                                    "ngames": 3,
                                    "ratio": 0.6666666666666666,
                                    "nbtotal": 52,
                                    "moves": "1. e4 c6 2. d4 d5",
                                    "children": [
                                        {
                                            "name": "e5 2/3",
                                            "parent": "2. d5 2/3",
                                            "ngames": 3,
                                            "ratio": 0.6666666666666666,
                                            "nbtotal": 52,
                                            "moves": "1. e4 c6 2. d4 d5 3. e5",
                                            "children": [
                                                {
                                                    "name": "3. Bf5 2/3",
                                                    "parent": "e5 2/3",
                                                    "ngames": 3,
                                                    "ratio": 0.6666666666666666,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5",
                                                    "children": [
                                                        {
                                                            "name": "Nf3 2/3",
                                                            "parent": "3. Bf5 2/3",
                                                            "ngames": 3,
                                                            "ratio": 0.6666666666666666,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3",
                                                            "children": [
                                                                {
                                                                    "name": "4. e6 2/3",
                                                                    "parent": "Nf3 2/3",
                                                                    "ngames": 3,
                                                                    "ratio": 0.6666666666666666,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3 e6",
                                                                    "children": [
                                                                        {
                                                                            "name": "Be3 2/3",
                                                                            "parent": "4. e6 2/3",
                                                                            "ngames": 3,
                                                                            "ratio": 0.6666666666666666,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3 e6 5. Fe3",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. h6 1/1",
                                                                                    "parent": "Be3 2/3",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3 e6 5. Fe3 h6",
                                                                                    "url": "https://lichess.org/Ixqcg3ZY"
                                                                                },
                                                                                {
                                                                                    "name": "5. c5 1/2",
                                                                                    "parent": "Be3 2/3",
                                                                                    "ngames": 2,
                                                                                    "ratio": 0.5,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3 e6 5. Fe3 c5",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "dxc5 1/1",
                                                                                            "parent": "5. c5 1/2",
                                                                                            "ngames": 1,
                                                                                            "ratio": 1.0,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3 e6 5. Fe3 c5 6. dxc5",
                                                                                            "url": "https://lichess.org/Q1MNJc7n"
                                                                                        },
                                                                                        {
                                                                                            "name": "Be2 0/1",
                                                                                            "parent": "5. c5 1/2",
                                                                                            "ngames": 1,
                                                                                            "ratio": 0.0,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 c6 2. d4 d5 3. e5 Ff5 4. Cf3 e6 5. Fe3 c5 6. Fe2",
                                                                                            "url": "https://lichess.org/3FuXBf3W"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "1. g6 0/1",
                    "parent": "e4 32.5/52",
                    "ngames": 1,
                    "ratio": 0.0,
                    "nbtotal": 52,
                    "moves": "1. e4 g6",
                    "url": "https://lichess.org/wewitxJy"
                },
                {
                    "name": "1. e5 12/14",
                    "parent": "e4 32.5/52",
                    "ngames": 14,
                    "ratio": 0.8571428571428571,
                    "nbtotal": 52,
                    "moves": "1. e4 e5",
                    "children": [
                        {
                            "name": "Nf3 12/14",
                            "parent": "1. e5 12/14",
                            "ngames": 14,
                            "ratio": 0.8571428571428571,
                            "nbtotal": 52,
                            "moves": "1. e4 e5 2. Cf3",
                            "children": [
                                {
                                    "name": "2. Nc6 11/13",
                                    "parent": "Nf3 12/14",
                                    "ngames": 13,
                                    "ratio": 0.8461538461538461,
                                    "nbtotal": 52,
                                    "moves": "1. e4 e5 2. Cf3 Cc6",
                                    "children": [
                                        {
                                            "name": "Bb5 10/12",
                                            "parent": "2. Nc6 11/13",
                                            "ngames": 12,
                                            "ratio": 0.8333333333333334,
                                            "nbtotal": 52,
                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5",
                                            "children": [
                                                {
                                                    "name": "3. Nge7 1/1",
                                                    "parent": "Bb5 10/12",
                                                    "ngames": 1,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cge7",
                                                    "url": "https://lichess.org/ONW4BaU4"
                                                },
                                                {
                                                    "name": "3. Bc5 1/1",
                                                    "parent": "Bb5 10/12",
                                                    "ngames": 1,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Fc5",
                                                    "url": "https://lichess.org/Ee8oZlwp"
                                                },
                                                {
                                                    "name": "3. Nf6 3/3",
                                                    "parent": "Bb5 10/12",
                                                    "ngames": 3,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6",
                                                    "children": [
                                                        {
                                                            "name": "O-O 3/3",
                                                            "parent": "3. Nf6 3/3",
                                                            "ngames": 3,
                                                            "ratio": 1.0,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6 4. O-O",
                                                            "children": [
                                                                {
                                                                    "name": "4. Nxe4 2/2",
                                                                    "parent": "O-O 3/3",
                                                                    "ngames": 2,
                                                                    "ratio": 1.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6 4. O-O Cxe4",
                                                                    "children": [
                                                                        {
                                                                            "name": "Re1 2/2",
                                                                            "parent": "4. Nxe4 2/2",
                                                                            "ngames": 2,
                                                                            "ratio": 1.0,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6 4. O-O Cxe4 5. Te1",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. d5 1/1",
                                                                                    "parent": "Re1 2/2",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6 4. O-O Cxe4 5. Te1 d5",
                                                                                    "url": "https://lichess.org/74mTqo0u"
                                                                                },
                                                                                {
                                                                                    "name": "5. Nd6 1/1",
                                                                                    "parent": "Re1 2/2",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6 4. O-O Cxe4 5. Te1 Cd6",
                                                                                    "url": "https://lichess.org/6MEDEPH5"
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "name": "4. Bc5 1/1",
                                                                    "parent": "O-O 3/3",
                                                                    "ngames": 1,
                                                                    "ratio": 1.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 Cf6 4. O-O Fc5",
                                                                    "url": "https://lichess.org/M8bh3ufS"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "name": "3. a6 4/6",
                                                    "parent": "Bb5 10/12",
                                                    "ngames": 6,
                                                    "ratio": 0.6666666666666666,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6",
                                                    "children": [
                                                        {
                                                            "name": "Ba4 4/6",
                                                            "parent": "3. a6 4/6",
                                                            "ngames": 6,
                                                            "ratio": 0.6666666666666666,
                                                            "nbtotal": 52,
                                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4",
                                                            "children": [
                                                                {
                                                                    "name": "4. Nf6 2/3",
                                                                    "parent": "Ba4 4/6",
                                                                    "ngames": 3,
                                                                    "ratio": 0.6666666666666666,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 Cf6",
                                                                    "children": [
                                                                        {
                                                                            "name": "O-O 2/3",
                                                                            "parent": "4. Nf6 2/3",
                                                                            "ngames": 3,
                                                                            "ratio": 0.6666666666666666,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 Cf6 5. O-O",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. b5 1/1",
                                                                                    "parent": "O-O 2/3",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 Cf6 5. O-O b5",
                                                                                    "url": "https://lichess.org/IRPKaFBA"
                                                                                },
                                                                                {
                                                                                    "name": "5. Be7 1/2",
                                                                                    "parent": "O-O 2/3",
                                                                                    "ngames": 2,
                                                                                    "ratio": 0.5,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 Cf6 5. O-O Fe7",
                                                                                    "children": [
                                                                                        {
                                                                                            "name": "Re1 1/2",
                                                                                            "parent": "5. Be7 1/2",
                                                                                            "ngames": 2,
                                                                                            "ratio": 0.5,
                                                                                            "nbtotal": 52,
                                                                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 Cf6 5. O-O Fe7 6. Te1",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "name": "4. f5 0/1",
                                                                    "parent": "Ba4 4/6",
                                                                    "ngames": 1,
                                                                    "ratio": 0.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 f5",
                                                                    "url": "https://lichess.org/38n57kOB"
                                                                },
                                                                {
                                                                    "name": "4. d6 2/2",
                                                                    "parent": "Ba4 4/6",
                                                                    "ngames": 2,
                                                                    "ratio": 1.0,
                                                                    "nbtotal": 52,
                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 d6",
                                                                    "children": [
                                                                        {
                                                                            "name": "O-O 2/2",
                                                                            "parent": "4. d6 2/2",
                                                                            "ngames": 2,
                                                                            "ratio": 1.0,
                                                                            "nbtotal": 52,
                                                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 d6 5. O-O",
                                                                            "children": [
                                                                                {
                                                                                    "name": "5. Nf6 1/1",
                                                                                    "parent": "O-O 2/2",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 d6 5. O-O Cf6",
                                                                                    "url": "https://lichess.org/obEUuOkK"
                                                                                },
                                                                                {
                                                                                    "name": "5. Bg4 1/1",
                                                                                    "parent": "O-O 2/2",
                                                                                    "ngames": 1,
                                                                                    "ratio": 1.0,
                                                                                    "nbtotal": 52,
                                                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 a6 4. Fa4 d6 5. O-O Fg4",
                                                                                    "url": "https://lichess.org/6blNXeqX"
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "name": "3. d6 1/1",
                                                    "parent": "Bb5 10/12",
                                                    "ngames": 1,
                                                    "ratio": 1.0,
                                                    "nbtotal": 52,
                                                    "moves": "1. e4 e5 2. Cf3 Cc6 3. Fb5 d6",
                                                    "url": "https://lichess.org/eoxU0tsG"
                                                }
                                            ]
                                        },
                                        {
                                            "name": "d4 1/1",
                                            "parent": "2. Nc6 11/13",
                                            "ngames": 1,
                                            "ratio": 1.0,
                                            "nbtotal": 52,
                                            "moves": "1. e4 e5 2. Cf3 Cc6 3. d4",
                                            "url": "https://lichess.org/R2QwuiLO"
                                        }
                                    ]
                                },
                                {
                                    "name": "2. d6 1/1",
                                    "parent": "Nf3 12/14",
                                    "ngames": 1,
                                    "ratio": 1.0,
                                    "nbtotal": 52,
                                    "moves": "1. e4 e5 2. Cf3 d6",
                                    "url": "https://lichess.org/ycgTPeXk"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
];


// ************** Generate the tree diagram	 *****************
var margin = {top: 20, right: 120, bottom: 20, left: 120},
	width = Math.ceil(1500*treeData[0].moves_limit/4) - margin.right - margin.left,
	height = 500 - margin.top - margin.bottom;
	
var i = 0,
	duration = 750,
	root;

var tree = d3.layout.tree()
	.size([height, width]);

var diagonal = d3.svg.diagonal()
	.projection(function(d) { return [d.y, d.x]; });

var svg = d3.select("body").append("svg")
	.attr("width", width + margin.right + margin.left)
	.attr("height", height + margin.top + margin.bottom)
  .append("g")
	.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

root = treeData[0];
root.x0 = height / 2;
root.y0 = 0;
  
update(root);

d3.select(self.frameElement).style("height", "500px");

function update(source) {

  // Compute the new tree layout.
  var nodes = tree.nodes(root).reverse(),
	  links = tree.links(nodes);

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 180; });

  // Update the nodes
  var node = svg.selectAll("g.node")
	  .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("g")
	  .attr("class", "node")
	  .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
	  .on("click", click);

  nodeEnter.append("circle")
	  .attr("r", 1e-6)
	  .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append("text")
	  .attr("x", function(d) { return d.children || d._children ? -13 : 13; })
	  .attr("dy", ".35em")
	  .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
	  .text(function(d) { return d.name; })
	  .style("fill-opacity", 1e-6);

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
	  .duration(duration)
	  .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

  nodeUpdate.select("circle")
	  .attr("r", 10)
	  .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
	  .style("fill-opacity", 1);

  // Transition exiting nodes to the parent's new position.
  var nodeExit = node.exit().transition()
	  .duration(duration)
	  .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
	  .remove();

  nodeExit.select("circle")
	  .attr("r", 1e-6);

  nodeExit.select("text")
	  .style("fill-opacity", 1e-6);

  // Update the links
  var link = svg.selectAll("path.link")
	  .data(links, function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("path", "g")
	  .attr("class", "link")
	  .style("stroke-width", function(d) { 
            if (d.source.nbtotal >= 0) {
                var ratio = d.target.ngames/d.source.nbtotal;
                var width = Math.ceil(ratio*100/5);
                return `${width}px`;
            }
            
            return "2px";
        })
	  .attr("d", function(d) {
		var o = {x: source.x0, y: source.y0};
		return diagonal({source: o, target: o});
	  });

  // Transition links to their new position.
  link.transition()
	  .duration(duration)
	  .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
	  .duration(duration)
	  .attr("d", function(d) {
		var o = {x: source.x, y: source.y};
		return diagonal({source: o, target: o});
	  })
	  .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
	d.x0 = d.x;
	d.y0 = d.y;
  });
}

// Toggle children on click.
function click(d) {
  if (d.url) {
	  window.open(d.url, '_blank').focus();
	  return;
  }
  if (d.children) {
	d._children = d.children;
	d.children = null;
  } else {
	d.children = d._children;
	d._children = null;
  }
  update(d);
}

</script>
	
  </body>
</html>
